# 测试数据集说明

## 数据集概览

**训练集**：3个样例 
**测试集**：10个样例

---

## 测试集详情（10个样例）

### 1. pandas - DataFrame.append (已完成测试)
```python
# 旧代码
new_df = old_df.append(row)

# 新代码 
new_df = pd.concat([old_df, row])

# 说明：DataFrame.append已废弃，使用pd.concat替代
```

### 2. numpy - np.matrix
```python
# 旧代码
matrix = np.matrix([[1, 2], [3, 4]])

# 新代码
matrix = np.array([[1, 2], [3, 4]])

# 说明：np.matrix已废弃，使用np.array
```

### 3. tensorflow - tf.contrib
```python
# 旧代码
flat = tf.contrib.layers.flatten(x)

# 新代码
flat = tf.keras.layers.Flatten()(x)

# 说明：tf.contrib已移除，使用tf.keras
```

### 4. scikit-learn - fit_transform
```python
# 旧代码
X_scaled = scaler.fit_transform(X_train)

# 新代码
X_scaled = scaler.fit(X_train).transform(X_train)

# 说明：分离fit和transform操作
```

### 5. PyTorch - model保存
```python
# 旧代码
torch.save(model, 'model.pth')

# 新代码
torch.save(model.state_dict(), 'model.pth')

# 说明：保存state_dict而非整个模型
```

### 6. PIL - Image.ANTIALIAS
```python
# 旧代码
img.resize((100, 100), Image.ANTIALIAS)

# 新代码
img.resize((100, 100), Image.LANCZOS)

# 说明：ANTIALIAS已重命名为LANCZOS
```

### 7. requests - data vs json
```python
# 旧代码
r = requests.post(url, data=payload)

# 新代码
r = requests.post(url, json=payload)

# 说明：使用json参数代替data
```

### 8. matplotlib - subplot参数
```python
# 旧代码
plt.subplot(111)

# 新代码
plt.subplot(1, 1, 1)

# 说明：使用三参数格式代替整数
```

### 9. pandas - DataFrame.ix
```python
# 旧代码
df.ix[0, 'col']

# 新代码
df.loc[0, 'col']

# 说明：ix已废弃，使用loc或iloc
```

### 10. numpy - tostring
```python
# 旧代码
arr.tostring()

# 新代码
arr.tobytes()

# 说明：tostring已废弃，使用tobytes
```

---

## 数据集特点

### 覆盖的库（8个）
- **pandas** (2个样例)
- **numpy** (2个样例)
- **tensorflow** (1个样例)
- **scikit-learn** (1个样例)
- **PyTorch** (1个样例)
- **PIL** (1个样例)
- **requests** (1个样例)
- **matplotlib** (1个样例)

### API更新类型
- **函数替换** (5个): append→concat, matrix→array, contrib→keras, save→save(state_dict), ix→loc
- **参数变化** (3个): data→json, ANTIALIAS→LANCZOS, subplot整数→三参数
- **函数重命名** (1个): tostring→tobytes
- **方法分离** (1个): fit_transform→fit().transform()

---

## 测试目标

**验证点**：
1. basic策略在10个样例上的稳定性
2. 不同库的API更新难度差异
3. 不同更新类型的处理效果
4. Prompt策略的泛化能力

**期望结果**：
- basic策略保持 >80% 精确匹配
- 所有策略关键API准确率 >90%
- 平均相似度 >0.7

