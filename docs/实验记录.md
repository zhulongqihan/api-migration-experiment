# 实验记录

## 📅 初步完成 

### 环境配置（已完成）

**服务器信息**：
- 主机: 3090
- GPU: 2x NVIDIA GeForce RTX 3090 Ti (24GB each)
- CUDA版本: 11.4
- Driver版本: 470.223.02

**软件环境**：
- Python: 3.10.18
- conda: 25.7.0
- 环境名称: apiupdate

**已安装依赖**：
- ✅ PyTorch 2.6.0+cu118
- ✅ Transformers 4.36.0
- ✅ PEFT 0.7.0
- ✅ Datasets (latest)
- ✅ Accelerate 0.25.0
- ✅ BitsAndBytes 0.41.0
- ✅ libcst, tqdm, rich, wandb, rouge-score

**Day 1 完成事项**：
- ✅ 检查GPU状态（2张3090 Ti，48GB总显存，完全空闲）
- ✅ 创建项目目录结构（~/api_migration_exp）
- ✅ 创建conda环境（apiupdate, Python 3.10.18）
- ✅ 安装PyTorch + CUDA（成功识别2张GPU）
- ✅ 安装所有核心依赖（transformers, peft, datasets等）
- ✅ 创建环境测试脚本（scripts/test_env.py）
- ✅ 保存环境配置（requirements.txt）
- ✅ Git仓库初始化和首次提交

**遇到的问题和解决**：
1. **PyTorch安装问题**：
   - 问题：cu113索引找不到版本
   - 解决：改用cu118索引（向后兼容CUDA 11.4）
   
2. **datasets安装问题**：
   - 问题：pyarrow需要CMake 3.25+，系统是3.10.2
   - 解决：使用conda安装datasets（自动处理依赖）

**next 计划**：

- [ ] 准备最小数据集（mini_dataset.json）
- [ ] 实现Baseline方法（规则提取 + Prompt生成）
- [ ] 测试模型加载（CodeLLaMA-7B）
- [ ] 第一次代码生成测试

---

## 重要笔记

### GPU使用记录
- GPU 0: [占用情况]
- GPU 1: [占用情况]

### 模型训练记录
| 日期 | 模型 | 方法 | 训练时间 | 显存占用 | 结果 |
|------|------|------|---------|---------|------|
| - | - | - | - | - | - |

### 数据集统计
- 训练集: X 样例
- 测试集: X 样例
- 数据来源: XXX

---

*持续更新中...*

