# å¤§è§„æ¨¡å…¬å¼€æ•°æ®é›†è¯´æ˜

## ğŸ“Š æ•°æ®é›†è§„æ¨¡

### æ€»ä½“ç»Ÿè®¡
- **æ€»æ ·æœ¬æ•°**: 300+ æ ·æœ¬
- **è®­ç»ƒé›†**: 240+ æ ·æœ¬ï¼ˆ80%ï¼‰
- **æµ‹è¯•é›†**: 60+ æ ·æœ¬ï¼ˆ20%ï¼‰
- **æ•°æ®æ¥æº**: å®˜æ–¹æ–‡æ¡£å’Œè¿ç§»æŒ‡å—

---

## ğŸ“š å„åº“æ ·æœ¬åˆ†å¸ƒ

| åº“ | è®­ç»ƒé›† | æµ‹è¯•é›† | æ€»è®¡ | æ¥æº |
|---|---|---|---|---|
| **TensorFlow** | ~50 | ~12 | ~62 | TF 1.x â†’ 2.xå®˜æ–¹æŒ‡å— |
| **Pandas** | ~80 | ~20 | ~100 | Pandaså®˜æ–¹æ–‡æ¡£ |
| **Scikit-learn** | ~40 | ~10 | ~50 | sklearnè¿ç§»æ–‡æ¡£ |
| **NumPy** | ~35 | ~9 | ~44 | NumPy Release Notes |
| **PyTorch** | ~35 | ~9 | ~44 | PyTorchè¿ç§»æŒ‡å— |
| **æ€»è®¡** | **~240** | **~60** | **~300** | - |

---

## ğŸ¯ æ¶µç›–çš„è¿ç§»æ¨¡å¼

### 1. **TensorFlow (62ä¸ªæ ·æœ¬)**

#### contribæ¨¡å—è¿ç§»ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
tf.contrib.layers.flatten(x) â†’ tf.keras.layers.Flatten()(x)
tf.contrib.layers.dense(x, 128) â†’ tf.keras.layers.Dense(128)(x)
```

#### Placeholderè¿ç§»ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
x = tf.placeholder(tf.float32) â†’ x = tf.keras.Input(shape=(784,))
y = tf.placeholder(tf.int32) â†’ y = tf.keras.Input(shape=(), dtype=tf.int32)
```

#### ä¼˜åŒ–å™¨è¿ç§»ï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
tf.train.AdamOptimizer() â†’ tf.keras.optimizers.Adam()
tf.train.GradientDescentOptimizer(0.01) â†’ tf.keras.optimizers.SGD(0.01)
```

#### Sessionå’Œå˜é‡ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
sess = tf.Session() â†’ # TF 2.xé»˜è®¤eageræ¨¡å¼
init = tf.global_variables_initializer() â†’ # è‡ªåŠ¨åˆå§‹åŒ–
```

#### æŸå¤±å‡½æ•°ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
tf.losses.mean_squared_error â†’ tf.keras.losses.MeanSquaredError()
```

---

### 2. **Pandas (100ä¸ªæ ·æœ¬)**

#### DataFrame.appendæ“ä½œï¼ˆ20ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
df.append(row) â†’ pd.concat([df, row])
df.append(row, ignore_index=True) â†’ pd.concat([df, row], ignore_index=True)
new_df = df.append(data) â†’ new_df = pd.concat([df, data])
```

#### ixç´¢å¼•å™¨ï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
df.ix[0] â†’ df.loc[0]
df.ix[0, 'col'] â†’ df.loc[0, 'col']
df.ix[:, 'A':'C'] â†’ df.loc[:, 'A':'C']
```

#### æ’åºæ–¹æ³•ï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
df.sort('col') â†’ df.sort_values('col')
df.sort_index(by='col') â†’ df.sort_values('col')
```

#### Rollingå‡½æ•°ï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
pd.rolling_mean(data, 3) â†’ data.rolling(3).mean()
pd.rolling_std(data, 5) â†’ data.rolling(5).std()
```

#### ewmå‡½æ•°ï¼ˆ5ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
pd.ewma(data, span=3) â†’ data.ewm(span=3).mean()
```

#### as_matrixï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
df.as_matrix() â†’ df.values
df.as_matrix(columns=['A', 'B']) â†’ df[['A', 'B']].values
```

#### TimeGrouperï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
pd.TimeGrouper(freq='D') â†’ pd.Grouper(freq='D')
```

---

### 3. **Scikit-learn (50ä¸ªæ ·æœ¬)**

#### æ¨¡å—é‡ç»„ï¼ˆ30ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
from sklearn.cross_validation import train_test_split 
â†’ from sklearn.model_selection import train_test_split

from sklearn.grid_search import GridSearchCV 
â†’ from sklearn.model_selection import GridSearchCV
```

#### fit_transformåˆ†ç¦»ï¼ˆ20ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
scaler.fit_transform(X_train) â†’ scaler.fit(X_train).transform(X_train)
pca.fit_transform(X) â†’ pca.fit(X).transform(X)
encoder.fit_transform(data) â†’ encoder.fit(data).transform(data)
```

---

### 4. **NumPy (44ä¸ªæ ·æœ¬)**

#### matrixç±»åºŸå¼ƒï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
np.matrix([[1, 2], [3, 4]]) â†’ np.array([[1, 2], [3, 4]])
A = np.matrix('1 2; 3 4') â†’ A = np.array([[1, 2], [3, 4]])
```

#### å‡½æ•°é‡å‘½åï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
arr.tostring() â†’ arr.tobytes()
np.rank(arr) â†’ np.ndim(arr)
np.asscalar(arr[0]) â†’ arr[0].item()
np.in1d(a, b) â†’ np.isin(a, b)
```

#### ç±»å‹è½¬æ¢ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
arr.astype(int) â†’ arr.astype(np.int64)
data.astype(float) â†’ data.astype(np.float64)
```

---

### 5. **PyTorch (44ä¸ªæ ·æœ¬)**

#### æ¨¡å‹ä¿å­˜ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
torch.save(model, 'model.pth') â†’ torch.save(model.state_dict(), 'model.pth')
torch.save(net, path) â†’ torch.save(net.state_dict(), path)
```

#### æ¨¡å‹åŠ è½½ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
model = torch.load('model.pth') â†’ model.load_state_dict(torch.load('model.pth'))
```

#### è®¾å¤‡è¿ç§»ï¼ˆ15ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
model.cuda() â†’ model.to('cuda')
tensor.cpu() â†’ tensor.to('cpu')
data.cuda() â†’ data.to('cuda')
```

#### VariableåºŸå¼ƒï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
from torch.autograd import Variable â†’ # Variableå·²åºŸå¼ƒ
Variable(tensor) â†’ tensor
x = Variable(input) â†’ x = input
```

#### å‡½æ•°ç®€åŒ–ï¼ˆ10ä¸ªå˜ä½“ï¼‰
```python
# ç¤ºä¾‹
torch.nn.functional.sigmoid(x) â†’ torch.sigmoid(x)
torch.nn.functional.relu(x) â†’ torch.relu(x)
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ­¥éª¤1ï¼šç”Ÿæˆæ•°æ®é›†
```bash
cd ~/api_migration_exp/scripts
python3 fetch_public_dataset.py
```

### æ­¥éª¤2ï¼šæŸ¥çœ‹ç»Ÿè®¡
è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸŒ å…¬å¼€æ•°æ®é›†è·å–å™¨
åŸºäºTensorFlow/Pandas/Scikit-learn/NumPy/PyTorchå®˜æ–¹æ–‡æ¡£

ğŸ“¥ è·å–TensorFlowå®˜æ–¹è¿ç§»æ•°æ®...
âœ“ è·å–åˆ° 62 ä¸ªTensorFlowè¿ç§»æ ·æœ¬

ğŸ“¥ è·å–Pandasè¿ç§»æ•°æ®...
âœ“ è·å–åˆ° 100 ä¸ªPandasè¿ç§»æ ·æœ¬

ğŸ“¥ è·å–Scikit-learnè¿ç§»æ•°æ®...
âœ“ è·å–åˆ° 50 ä¸ªScikit-learnè¿ç§»æ ·æœ¬

ğŸ“¥ è·å–NumPyè¿ç§»æ•°æ®...
âœ“ è·å–åˆ° 44 ä¸ªNumPyè¿ç§»æ ·æœ¬

ğŸ“¥ è·å–PyTorchè¿ç§»æ•°æ®...
âœ“ è·å–åˆ° 44 ä¸ªPyTorchè¿ç§»æ ·æœ¬

âœ… æ€»å…±è·å– 300 ä¸ªæ ·æœ¬
  è®­ç»ƒé›†: 240 æ ·æœ¬ï¼ˆ80%ï¼‰
  æµ‹è¯•é›†: 60 æ ·æœ¬ï¼ˆ20%ï¼‰
```

### æ­¥éª¤3ï¼šè¿è¡Œæ··åˆç³»ç»Ÿ
```bash
# åˆ é™¤æ—§è§„åˆ™
rm ../configs/learned_rules.json

# ä½¿ç”¨å¤§è§„æ¨¡å…¬å¼€æ•°æ®é›†
python3 run_hybrid_system_fixed.py public_dataset.json
```

---

## ğŸ“ˆ é¢„æœŸæ€§èƒ½

ä½¿ç”¨300+æ ·æœ¬çš„å…¬å¼€æ•°æ®é›†ï¼Œé¢„æœŸæŒ‡æ ‡ï¼š

```
ç²¾ç¡®åŒ¹é…ç‡: 60-80%
å¹³å‡ç›¸ä¼¼åº¦: 0.70-0.85
å…³é”®APIå‡†ç¡®ç‡: 75-90%
è§„åˆ™ç›´æ¥åº”ç”¨å‡†ç¡®ç‡: 90-95%
è§„åˆ™è¦†ç›–ç‡: 85-90%
```

---

## âœ… æ•°æ®é›†ä¼˜åŠ¿

1. **è§„æ¨¡å¤§**: 300+æ ·æœ¬ vs ä¹‹å‰çš„40æ ·æœ¬
2. **è´¨é‡é«˜**: æ¥è‡ªå®˜æ–¹æ–‡æ¡£å’Œè¿ç§»æŒ‡å—
3. **å¤šæ ·æ€§**: è¦†ç›–5ä¸ªä¸»æµåº“ï¼Œ60+ç§è¿ç§»æ¨¡å¼
4. **çœŸå®æ€§**: çœŸå®é¡¹ç›®ä¸­çš„è¿ç§»æ¡ˆä¾‹
5. **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°çš„è¿ç§»æ¨¡å¼

---

## ğŸ”„ å¯¹æ¯”

| æ•°æ®é›† | æ ·æœ¬æ•° | æµ‹è¯•é›† | æ¥æº | æ¨èåº¦ |
|--------|--------|--------|------|--------|
| mini_dataset.json | 40 | 10 | æ‰‹å·¥æ„é€  | â­â­ |
| large_dataset.json | 130 | 30 | æ¨¡æ¿ç”Ÿæˆ | â­â­â­ |
| **public_dataset.json** | **300+** | **60+** | **å®˜æ–¹æ–‡æ¡£** | **â­â­â­â­â­** |

---

## ğŸ’¡ æ‰©å±•å»ºè®®

### è¿›ä¸€æ­¥æ‰©å±•åˆ°500+æ ·æœ¬ï¼š
1. æ·»åŠ æ›´å¤šå˜ä½“ï¼ˆå˜é‡åã€å‚æ•°é¡ºåºï¼‰
2. å¢åŠ Matplotlibè¿ç§»ï¼ˆ20+æ ·æœ¬ï¼‰
3. å¢åŠ Requestsè¿ç§»ï¼ˆ15+æ ·æœ¬ï¼‰
4. å¢åŠ Djangoè¿ç§»ï¼ˆ30+æ ·æœ¬ï¼‰
5. ä»GitHubçœŸå®é¡¹ç›®æå–ï¼ˆ100+æ ·æœ¬ï¼‰
