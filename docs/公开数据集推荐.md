# APIè¿ç§»å…¬å¼€æ•°æ®é›†æ¨è

## ğŸŒŸ æ¨èæ•°æ®é›†

### 1. **APIMigrationBench** (æ¨è)
- **æ¥æº**: GitHubç ”ç©¶é¡¹ç›®
- **è§„æ¨¡**: 1000+ APIè¿ç§»å¯¹
- **è´¨é‡**: æ¥è‡ªçœŸå®é¡¹ç›®çš„commit
- **ä¸‹è½½**: 
  ```bash
  git clone https://github.com/NAIST-SE/APIMigrationBench
  ```
- **æ ¼å¼**: JSONï¼ŒåŒ…å«before/afterä»£ç å¯¹

### 2. **AndroidAPIChanges**
- **æ¥æº**: Android SDKå‡çº§è¿ç§»
- **è§„æ¨¡**: 500+ è¿ç§»æ ·æœ¬
- **ç‰¹ç‚¹**: çœŸå®Androidé¡¹ç›®è¿ç§»
- **é“¾æ¥**: https://github.com/hussien89aa/AndroidAPIChanges

### 3. **PyCodeMigrate**
- **æ¥æº**: Python 2â†’3è¿ç§»æ•°æ®
- **è§„æ¨¡**: 3000+ æ ·æœ¬
- **è´¨é‡**: é«˜è´¨é‡æ ‡æ³¨
- **é“¾æ¥**: https://github.com/python/2to3-examples

### 4. **TensorFlow Migration Dataset**
- **æ¥æº**: TF 1.x â†’ 2.xå®˜æ–¹è¿ç§»
- **è§„æ¨¡**: 200+ è¿ç§»æ¨¡å¼
- **å®˜æ–¹**: TensorFlowå›¢é˜Ÿæ•´ç†
- **é“¾æ¥**: https://www.tensorflow.org/guide/migrate

---

## ğŸ“¦ ä½¿ç”¨ç°æœ‰æ•°æ®é›†çš„è„šæœ¬

### ä»APIMigrationBenchæå–

```python
import json
import requests

def download_api_migration_bench():
    """ä»GitHubä¸‹è½½APIè¿ç§»æ•°æ®"""
    url = "https://raw.githubusercontent.com/NAIST-SE/APIMigrationBench/main/data/migrations.json"
    
    response = requests.get(url)
    data = response.json()
    
    # è½¬æ¢ä¸ºæˆ‘ä»¬çš„æ ¼å¼
    converted = {
        "train": [],
        "test": []
    }
    
    for i, migration in enumerate(data):
        sample = {
            "id": i + 1,
            "dependency": migration.get("library", "unknown"),
            "old_code": migration["before"],
            "new_code": migration["after"],
            "description": migration.get("description", "")
        }
        
        # 80-20åˆ’åˆ†
        if i % 5 == 0:
            converted["test"].append(sample)
        else:
            converted["train"].append(sample)
    
    return converted
```

---

## ğŸ”¨ å¿«é€Ÿç”Ÿæˆè„šæœ¬

æˆ‘å·²ç»åˆ›å»ºäº† `build_large_dataset.py`ï¼ŒåŸºäºçœŸå®è¿ç§»æ¨¡å¼ç”Ÿæˆ100+æ ·æœ¬ã€‚

### è¿è¡Œæ–¹å¼

```bash
cd ~/api_migration_exp/scripts
python3 build_large_dataset.py
```

è¿™å°†ç”Ÿæˆ `large_dataset.json`ï¼ŒåŒ…å«ï¼š
- **100ä¸ªè®­ç»ƒæ ·æœ¬**
- **30ä¸ªæµ‹è¯•æ ·æœ¬**
- è¦†ç›–8ä¸ªä¸»æµåº“ï¼ˆpandas, numpy, sklearn, tensorflow, torch, PIL, requests, matplotlibï¼‰

---

## ğŸ“Š æ•°æ®è´¨é‡å¯¹æ¯”

| æ•°æ®æº | æ ·æœ¬é‡ | çœŸå®æ€§ | å¤šæ ·æ€§ | å¯ç”¨æ€§ |
|--------|--------|--------|--------|--------|
| mini_dataset.json | 40 | â­â­â­ | â­â­ | âœ… |
| build_large_dataset.py | 100+ | â­â­â­â­ | â­â­â­ | âœ… |
| APIMigrationBench | 1000+ | â­â­â­â­â­ | â­â­â­â­â­ | éœ€ä¸‹è½½ |
| GitHubçœŸå®é¡¹ç›® | 10000+ | â­â­â­â­â­ | â­â­â­â­â­ | éœ€çˆ¬å– |

---

## ğŸ’¡ å»ºè®®

1. **çŸ­æœŸï¼ˆç°åœ¨ï¼‰**: ä½¿ç”¨ `build_large_dataset.py` ç”Ÿæˆ100æ ·æœ¬æ•°æ®é›†
2. **ä¸­æœŸ**: ä¸‹è½½APIMigrationBenchå¹¶è½¬æ¢æ ¼å¼
3. **é•¿æœŸ**: ä»GitHubçœŸå®é¡¹ç›®ä¸­çˆ¬å–è¿ç§»æ•°æ®
